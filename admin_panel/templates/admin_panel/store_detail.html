{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>店舗詳細 | Ciquest</title>
  <link rel="stylesheet" href="{% static 'css/base/base.css' %}">
  <link rel="stylesheet" href="{% static 'css/admin/sunset.css' %}">
  <link rel="stylesheet" href="{% static 'css/admin/stores.css' %}">
  <link rel="icon" href="{% static 'img/common/CIquest.ico' %}">
</head>
<body>
  <header class="admin-header">
    <h1>店舗詳細</h1>
    <nav>
      <a href="{% url 'admin_dashboard' %}" {% if active_page == 'dashboard' %}class="active"{% endif %}>ダッシュボード</a>
      <a href="{% url 'admin_stores' %}" {% if active_page == 'stores' %}class="active"{% endif %}>店舗承認</a>
      <a href="{% url 'admin_challenges' %}" {% if active_page == 'challenges' %}class="active"{% endif %}>チャレンジ管理</a>
      <a href="{% url 'admin_coupons' %}" {% if active_page == 'coupons' %}class="active"{% endif %}>クーポン管理</a>
      <a href="{% url 'admin_users' %}" {% if active_page == 'users' %}class="active"{% endif %}>ユーザー管理</a>
      <a href="{% url 'admin_inquiries' %}" {% if active_page == 'inquiries' %}class="active"{% endif %}>お問い合わせ</a>
      <a href="{% url 'admin_notices' %}" {% if active_page == 'notices' %}class="active"{% endif %}>お知らせ</a>
    </nav>
    <a class="logout-btn" href="{% url 'logout' %}">ログアウト</a>
  </header>

  <main class="stores-page">
    <section class="store-approvals store-detail">
      <header class="store-approvals__header">
        <div>
          <h2>{{ store.name }}</h2>
          <p>申請内容の詳細</p>
        </div>
        <a class="detail-link detail-link--back" href="{% url 'admin_stores' %}">← 一覧へ戻る</a>
      </header>

      <div class="detail-grid">
        <div class="detail-card">
          <h3>店舗情報</h3>
          <dl>
            <dt>店舗名</dt><dd>{{ store.name }}</dd>
            <dt>住所</dt><dd>{{ store.address|default:"-" }}</dd>
            <dt>電話番号</dt><dd>{{ store.phone|default:"-" }}</dd>
            <dt>営業時間</dt><dd>{{ store.business_hours|default:"-" }}</dd>
            <dt>店舗説明</dt><dd>{{ store.store_description|default:"-" }}</dd>
            <dt>緯度/経度</dt>
            <dd>
              {% if store.latitude and store.longitude %}
                {{ store.latitude }}, {{ store.longitude }}
              {% else %}
                -
              {% endif %}
            </dd>
            <dt>QRコード</dt><dd>{{ store.qr_code|default:"-" }}</dd>
            <dt>状態</dt><dd>{{ store.get_status_display }}</dd>
            <dt>申請日</dt><dd>{{ store.created_at|date:"Y/m/d H:i" }}</dd>
            <dt>更新日</dt><dd>{{ store.updated_at|date:"Y/m/d H:i" }}</dd>
          </dl>
        </div>

        <div class="detail-card">
          <h3>オーナー情報</h3>
          {% if owner %}
            <dl>
              <dt>氏名</dt><dd>{{ owner.name|default:"-" }}</dd>
              <dt>事業名</dt><dd>{{ owner.business_name|default:"-" }}</dd>
              <dt>メール</dt><dd>{{ owner.email|default:"-" }}</dd>
              <dt>連絡先電話</dt><dd>{{ owner.contact_phone|default:"-" }}</dd>
              <dt>承認済み</dt><dd>{% if owner.approved %}Yes{% else %}No{% endif %}</dd>
              <dt>メール確認</dt><dd>{% if owner.is_verified %}Yes{% else %}No{% endif %}</dd>
              <dt>登録日</dt><dd>{{ owner.created_at|date:"Y/m/d H:i" }}</dd>
            </dl>
          {% else %}
            <p>オーナー情報が見つかりません。</p>
          {% endif %}
        </div>
      </div>
    </section>
  </main>
</body>
</html>
